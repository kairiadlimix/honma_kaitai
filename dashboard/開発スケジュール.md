# 開発スケジュール：重機稼働予測ダッシュボード

## 📊 現在の実装状況

### ✅ 完了している機能
- [x] プロジェクト基盤（Next.js、TypeScript、Tailwind CSS）
- [x] レイアウト（ヘッダー、サイドバー）
- [x] 全社サマリービュー（KPIカード、アラート）
- [x] 重機一覧ビュー（テーブル形式）
- [x] 稼働ランキングビュー（複数ランキング）
- [x] 消耗品管理ビュー（テーブル、グラフ、ランキング）
- [x] コスト分析ビュー（サマリー、グラフ、ランキング）
- [x] モックデータ機能（デモ用）

### ⏳ 未実装の機能
- [ ] 故障リスク分析ビュー
- [ ] 重機個別ビュー
- [ ] Google Sheets連携（実際のデータ取得）
- [ ] フィルター・ソート機能（重機一覧）
- [ ] グラフの詳細化・カスタマイズ
- [ ] レスポンシブ対応の強化
- [ ] エラーハンドリングの強化

---

## 🎯 優先順位とスケジュール

### フェーズ1: PoC完成（3-4週間）

#### Week 1: 必須機能の完成

**Day 1-2: 故障リスク分析ページ**
- 故障リスクランキング（TOP10）
- 重機クラス別・メーカー別の故障傾向分析
- 要注意重機リスト（★4以上）
- **工数**: 1-2日
- **バッファ**: +0.5日

**Day 3-4: 重機個別ページ**
- 基本情報表示
- 稼働状況グラフ（月次推移）
- メンテナンス履歴
- コスト情報
- **工数**: 2日
- **バッファ**: +1日

**Day 5: 機能改善**
- 重機一覧のフィルター機能（メーカー、クラス、ステータス）
- 重機一覧のソート機能
- エラーハンドリングの改善
- **工数**: 1日
- **バッファ**: +0.5日

#### Week 2: データ連携と最終調整

**Day 1-3: Google Sheets連携**
- サービスアカウント設定
- データ取得APIの実装
- データ変換・正規化処理
- エラーハンドリング
- **工数**: 2日
- **バッファ**: +1日（外部連携は想定外の課題が発生しやすいため）

**Day 4-5: データ検証**
- 実際のデータで動作確認
- データ品質チェック
- パフォーマンス確認
- バグ修正
- **工数**: 1日
- **バッファ**: +1日

#### Week 3: UI/UX改善と最終調整

**Day 1-3: UI/UX改善**
- レスポンシブ対応の強化（モバイル・タブレット）
- ローディング状態の改善
- グラフの見やすさ向上
- **工数**: 2日
- **バッファ**: +1日

**Day 4-5: 最終調整・テスト**
- 統合テスト
- ユーザビリティテスト
- バグ修正
- ドキュメント整備
- **工数**: 2日
- **バッファ**: +1日（予備日）

**合計**: 約3-4週間（15-20営業日）
- **実工数**: 10-13営業日
- **バッファ**: 5-7営業日（約50%のバッファ）

---

### フェーズ2: 本番準備（4-5週間）

#### Week 4-5: 機能拡張

**重機個別ページの拡張**
- 故障・不調情報の詳細表示
- 時系列グラフの追加
- メンテナンス予定の表示
- **工数**: 3-4日
- **バッファ**: +1-2日

**データ更新機能**
- 自動更新機能（バッチ処理）
- 更新頻度の設定
- 更新ログの表示
- **工数**: 2-3日
- **バッファ**: +1日

**権限管理（認証・認可）**
- ロール別の表示制御
- 認証機能（NextAuth.js）
- セッション管理
- **工数**: 3-4日
- **バッファ**: +2日（認証は複雑なため）

#### Week 6-7: テスト・調整

**テスト**
- 結合テスト
- ユーザビリティテスト
- パフォーマンステスト
- セキュリティテスト
- **工数**: 3-4日
- **バッファ**: +2日

**調整**
- バグ修正
- UI/UXの微調整
- ドキュメント整備
- 本番環境へのデプロイ準備
- **工数**: 1-2日
- **バッファ**: +1-2日（予備日）

**合計**: 約4-5週間（20-25営業日）
- **実工数**: 11-14営業日
- **バッファ**: 9-11営業日（約70%のバッファ）

---

### フェーズ3: 予測機能（将来拡張）

#### Week 6-8: AI/ML機能の実装

**データ準備**
- 学習データの準備
- 特徴量エンジニアリング
- **工数**: 1週間

**モデル開発**
- 故障予測モデル
- 買い替え時期予測モデル
- 消耗品予測モデル
- **工数**: 2週間

**統合**
- モデルのAPI化
- ダッシュボードへの統合
- **工数**: 1週間

**合計**: 約4週間（20営業日）

---

## 📅 詳細スケジュール（フェーズ1）

### Week 1: 必須機能の完成

| 日 | タスク | 工数 | 優先度 |
|---|--------|------|--------|
| Day 1 | 故障リスク分析ページ（ランキング、傾向分析） | 1日 | 高 |
| Day 2 | 故障リスク分析ページ（要注意リスト、グラフ） | 1日 | 高 |
| Day 3 | 重機個別ページ（基本情報、稼働状況） | 1日 | 高 |
| Day 4 | 重機個別ページ（メンテ履歴、コスト） | 1日 | 高 |
| Day 5 | フィルター・ソート機能、エラーハンドリング | 1日 | 中 |

### Week 2: データ連携と最終調整

| 日 | タスク | 工数 | 優先度 |
|---|--------|------|--------|
| Day 1 | Google Sheets連携（設定、API実装） | 1日 | 高 |
| Day 2 | データ変換・正規化処理 | 1日 | 高 |
| Day 3 | データ検証、動作確認 | 1日 | 高 |
| Day 4 | レスポンシブ対応、UI改善 | 1日 | 中 |
| Day 5 | 最終調整、ドキュメント | 1日 | 中 |

---

## 🎯 マイルストーン

### マイルストーン1: PoC完成（2週間後）
- ✅ 全ページの実装完了
- ✅ モックデータで全機能が動作
- ✅ 基本的なUI/UXが完成

### マイルストーン2: データ連携完了（2週間後）
- ✅ Google Sheetsから実際のデータを取得
- ✅ データが正しく表示される
- ✅ エラーハンドリングが実装されている

### マイルストーン3: 本番準備完了（5週間後）
- ✅ 全機能が実装されている
- ✅ テストが完了している
- ✅ 本番環境へのデプロイ準備が整っている

---

## 💡 推奨アプローチ

### 短期（PoC完成）
1. **故障リスク分析ページ** - 残りの主要機能
2. **重機個別ページ** - 詳細情報の確認
3. **Google Sheets連携** - 実際のデータで動作確認

### 中期（本番準備）
1. **機能拡張** - ユーザーフィードバックに基づく改善
2. **パフォーマンス最適化** - データ量が増えた場合の対応
3. **セキュリティ強化** - 認証・権限管理

### 長期（予測機能）
1. **AI/MLモデルの開発** - 故障予測、買い替え時期予測
2. **予測結果の可視化** - ダッシュボードへの統合
3. **継続的な改善** - モデルの精度向上

---

## 📊 工数見積もり（バッファ込み）

### フェーズ1（PoC完成）
- **実開発工数**: 8-10日
- **テスト・調整**: 2-3日
- **バッファ**: 5-7日（約50%）
- **合計**: 15-20日（約3-4週間）
- **安全マージン**: 想定外の課題、データ品質問題、外部連携の遅延に対応

### フェーズ2（本番準備）
- **実開発工数**: 8-10日
- **テスト**: 3-4日
- **バッファ**: 9-11日（約70%）
- **合計**: 20-25日（約4-5週間）
- **安全マージン**: 認証・認可の複雑さ、kintone連携の課題、セキュリティ要件の追加に対応

### フェーズ3（予測機能）
- **実開発工数**: 15-20日
- **テスト**: 3-5日
- **バッファ**: 10-15日（約50%）
- **合計**: 28-40日（約6-8週間）
- **安全マージン**: モデル開発の不確実性、データ準備の遅延、精度調整に時間がかかる可能性に対応

## ⚠️ バッファを設けた理由

### リスク要因
1. **外部連携の不確実性**
   - Google Sheets / kintone APIの仕様変更
   - データ品質の問題
   - 接続エラーの対応

2. **認証・認可の複雑さ**
   - セキュリティ要件の追加
   - ロール設計の見直し
   - セッション管理の課題

3. **データ品質の問題**
   - データの不整合
   - 欠損データの対応
   - データ変換の複雑さ

4. **要件の変更・追加**
   - ユーザーフィードバックによる変更
   - 追加要件の発生
   - 仕様の見直し

5. **技術的な課題**
   - 予期しないバグ
   - パフォーマンス問題
   - ブラウザ互換性の問題

### バッファの使い道
- 想定外の課題への対応
- 要件変更への対応
- 品質向上のための時間
- ユーザーフィードバックの反映
- ドキュメント整備

---

## 🚀 次のアクション

### 今すぐできること
1. **故障リスク分析ページの実装** - 残りの主要機能
2. **重機個別ページの実装** - 詳細情報の確認
3. **Google Sheets連携の準備** - 実際のデータ取得

### 優先順位の確認
- **最優先**: 故障リスク分析ページ、重機個別ページ
- **高**: Google Sheets連携、フィルター・ソート機能
- **中**: UI/UX改善、レスポンシブ対応
- **低**: 予測機能（将来拡張）

---

## 📝 注意事項

- **工数は目安** - 実際の開発速度や要件変更により変動する可能性があります
- **並行作業** - 複数の機能を並行して開発できる場合は、スケジュールを短縮できます
- **テスト時間** - 各フェーズで十分なテスト時間を確保することが重要です
- **ユーザーフィードバック** - PoC段階でユーザーフィードバックを収集し、優先順位を調整

